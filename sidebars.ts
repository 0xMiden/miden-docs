import type { SidebarsConfig } from "@docusaurus/plugin-content-docs";

/**
 * Multi-sidebar configuration for Builder and Design sections
 *
 * - builderSidebar: Usage-focused docs (tutorials, guides, reference)
 *   Canonical source: docs/builder/
 *
 * - designSidebar: Architecture/internals (protocol, VM, proving)
 *   Canonical source: versioned_docs/ (ingested from external repos)
 *   For "current/next" version, shows landing page only.
 *   Full Design content is available in versioned releases (0.11, 0.12).
 *
 * ARCHITECTURE NOTE:
 * Design content is canonical in versioned_docs/, NOT in docs/design/.
 * DO NOT add autogenerated entries pointing to docs/design/* for protocol content.
 * Design docs are populated by ingestion workflow from external source repos
 * (miden-base, miden-vm, miden-node, compiler).
 */
const sidebars: SidebarsConfig = {
  // Builder: content authored in docs/builder/
  builderSidebar: [{ type: "autogenerated", dirName: "builder" }],

  // Design: content comes from versioned_docs via ingestion workflow
  // "current/next" version shows landing page only
  // Full Design docs available in versioned releases (0.11, 0.12)
  designSidebar: [
    {
      type: "doc",
      id: "design/index",
      label: "How Miden Works",
    },
  ],
};

export default sidebars;
